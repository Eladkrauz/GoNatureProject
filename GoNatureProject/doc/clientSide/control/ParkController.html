<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="iw">
<head>
<!-- Generated by javadoc (11.0.18) on Sun Mar 31 18:59:44 IDT 2024 -->
<title>ParkController</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-03-31">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ParkController";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":9,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ParkController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">clientSide.control</a></div>
<h2 title="Class ParkController" class="title">Class ParkController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>clientSide.control.ParkController</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">ParkController</span>
extends java.lang.Object</pre>
<div class="block">The ParkController class serves as a controller for managing park-related
 operations within the application. It provides functionalities to interact
 with park data, including fetching park details from the database, managing
 bookings, checking visitor and booking existence, updating park capacities,
 and handling visitor bookings. This class follows the Singleton pattern to
 ensure that only one instance of the controller is used throughout the
 application, providing a centralized point of access to the park data and
 operations.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../common/entities/Booking.html" title="class in common.entities">Booking</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#booking">booking</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bookingDetails">bookingDetails</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="ParkController.html" title="class in clientSide.control">ParkController</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#instance">instance</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../common/entities/Park.html" title="class in common.entities">Park</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#park">park</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colSecond" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">ParkController</a></span>()</code></th>
<td class="colLast">
<div class="block">Private constructor to prevent instantiation from outside the class.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkCurrentCapacity(java.lang.String)">checkCurrentCapacity</a></span>&#8203;(java.lang.String&nbsp;parkName)</code></th>
<td class="colLast">
<div class="block">Retrieves current capacity and limits information for a specified park from
 the database.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../common/entities/Booking.html" title="class in common.entities">Booking</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkIfBookingExists(java.lang.String,java.lang.String,java.lang.String)">checkIfBookingExists</a></span>&#8203;(java.lang.String&nbsp;table,
                    java.lang.String&nbsp;field,
                    java.lang.String&nbsp;ID)</code></th>
<td class="colLast">
<div class="block">A 'SELECT' SQL query is generated to access the relevant table.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkIfBookingIsLock(java.lang.String)">checkIfBookingIsLock</a></span>&#8203;(java.lang.String&nbsp;ID)</code></th>
<td class="colLast">
<div class="block">Checks if a booking is locked for processing by another park employee.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../entities/ParkVisitor.html" title="class in clientSide.entities">ParkVisitor</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkIfVisitorExists(java.lang.String,java.lang.String,java.lang.String)">checkIfVisitorExists</a></span>&#8203;(java.lang.String&nbsp;table,
                    java.lang.String&nbsp;IDfield,
                    java.lang.String&nbsp;ID)</code></th>
<td class="colLast">
<div class="block">A 'SELECT' SQL query is generated to access the relevant table (traveler or
 group_guide) in the database.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkParkAvailabilityForBooking(common.entities.Booking)">checkParkAvailabilityForBooking</a></span>&#8203;(<a href="../../common/entities/Booking.html" title="class in common.entities">Booking</a>&nbsp;booking)</code></th>
<td class="colLast">
<div class="block">This method checks the availability for a specific booking, by checking the
 specific park parameters and active bookings ob the same date and time range
 of the checked order</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../common/entities/Park.html" title="class in common.entities">Park</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fetchManagerParksList(java.lang.String,java.lang.String)">fetchManagerParksList</a></span>&#8203;(java.lang.String&nbsp;field,
                     java.lang.String&nbsp;ID)</code></th>
<td class="colLast">
<div class="block">A 'SELECT' SQL query is generated to access 'park' table in the database.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../common/entities/Park.html" title="class in common.entities">Park</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fetchParks()">fetchParks</a></span>()</code></th>
<td class="colLast">
<div class="block">Fetches park data from the database, using a communication request - 'SELECT'
 query, retrieves the result, and maps it to Park objects.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBookingDetails()">getBookingDetails</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static <a href="ParkController.html" title="class in clientSide.control">ParkController</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getInstance()">getInstance</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#insertBookingToTable(common.entities.Booking,java.lang.String,java.lang.String)">insertBookingToTable</a></span>&#8203;(<a href="../../common/entities/Booking.html" title="class in common.entities">Booking</a>&nbsp;newBooking,
                    java.lang.String&nbsp;table,
                    java.lang.String&nbsp;type)</code></th>
<td class="colLast">
<div class="block">Inserts a new booking record into a specified table within the database,
 based on the type of the booking.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nameOfPark(java.lang.String)">nameOfPark</a></span>&#8203;(java.lang.String&nbsp;park)</code></th>
<td class="colLast">
<div class="block">Converts a database table name back to a more readable park name by replacing
 underscores with spaces and capitalizing the first letter of each word.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nameOfTable(common.entities.Park)">nameOfTable</a></span>&#8203;(<a href="../../common/entities/Park.html" title="class in common.entities">Park</a>&nbsp;park)</code></th>
<td class="colLast">
<div class="block">Generates a database-friendly table name from a park name by converting it to
 lower case and replacing spaces with underscores.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#payForBooking(java.lang.String,java.lang.String)">payForBooking</a></span>&#8203;(java.lang.String&nbsp;parkTable,
             java.lang.String&nbsp;ID)</code></th>
<td class="colLast">
<div class="block">An 'UPDATE' SQL query is generated to access relevant park_bookings_table in
 the database and update the 'paid' field for 1 - paid.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeBooking(java.lang.String,java.lang.String)">removeBooking</a></span>&#8203;(java.lang.String&nbsp;table,
             java.lang.String&nbsp;bookingID)</code></th>
<td class="colLast">
<div class="block">A 'Delete' SQL query is generated to access relevant park_bookings_table in
 the database and update the 'exitParkTime' field for relevant bookingID.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../common/entities/Booking.html" title="class in common.entities">Booking</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#restoreBooking()">restoreBooking</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../common/entities/Park.html" title="class in common.entities">Park</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#restorePark()">restorePark</a></span>()</code></th>
<td class="colLast">
<div class="block">Restores the previously saved Park object from the controller's state.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#revertPaymentForBooking(java.lang.String,java.lang.String)">revertPaymentForBooking</a></span>&#8203;(java.lang.String&nbsp;parkTable,
                       java.lang.String&nbsp;ID)</code></th>
<td class="colLast">
<div class="block">An 'UPDATE' SQL query is generated to access relevant park_bookings_table in
 the database and update the 'paid' field for 1 - paid.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#saveBooking(common.entities.Booking)">saveBooking</a></span>&#8203;(<a href="../../common/entities/Booking.html" title="class in common.entities">Booking</a>&nbsp;booking)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#savePark(common.entities.Park)">savePark</a></span>&#8203;(<a href="../../common/entities/Park.html" title="class in common.entities">Park</a>&nbsp;park)</code></th>
<td class="colLast">
<div class="block">Saves a Park object to the controller's state.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendNotification(common.entities.Booking,boolean)">sendNotification</a></span>&#8203;(<a href="../../common/entities/Booking.html" title="class in common.entities">Booking</a>&nbsp;notify,
                boolean&nbsp;isCancel)</code></th>
<td class="colLast">
<div class="block">This method is called in order to send a confirmation or cancellation to the
 booker</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setBookingDetails(java.util.Map)">setBookingDetails</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;bookingDetails)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateConfirmed(java.lang.String,java.lang.String)">updateConfirmed</a></span>&#8203;(java.lang.String&nbsp;table,
               java.lang.String&nbsp;bookingID)</code></th>
<td class="colLast">
<div class="block">An 'UPDATE' SQL query is generated to access the relevant table in the
 database and change the 'confirmed' field to true (represents by '1').</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateCurrentCapacity(java.lang.String,int,boolean)">updateCurrentCapacity</a></span>&#8203;(java.lang.String&nbsp;parkName,
                     int&nbsp;amount,
                     boolean&nbsp;add)</code></th>
<td class="colLast">
<div class="block">An 'UPDATE' SQL query is generated to access the 'park' table in the database
 and change the 'currentCapacity' field for the relevant park.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateTimeInPark(java.lang.String,java.lang.String,java.lang.String)">updateTimeInPark</a></span>&#8203;(java.lang.String&nbsp;park,
                java.lang.String&nbsp;timeField,
                java.lang.String&nbsp;ID)</code></th>
<td class="colLast">
<div class="block">An 'UPDATE' SQL query is generated to access relevant park_bookings_table in
 the database and update the 'exitParkTime' or 'entryParkTime' field for
 relevant bookingID.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="instance">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>instance</h4>
<pre>private static&nbsp;<a href="ParkController.html" title="class in clientSide.control">ParkController</a> instance</pre>
</li>
</ul>
<a id="park">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>park</h4>
<pre>private&nbsp;<a href="../../common/entities/Park.html" title="class in common.entities">Park</a> park</pre>
</li>
</ul>
<a id="booking">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>booking</h4>
<pre>private&nbsp;<a href="../../common/entities/Booking.html" title="class in common.entities">Booking</a> booking</pre>
</li>
</ul>
<a id="bookingDetails">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>bookingDetails</h4>
<pre>private&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt; bookingDetails</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ParkController</h4>
<pre>private&nbsp;ParkController()</pre>
<div class="block">Private constructor to prevent instantiation from outside the class.
 Initializes the controller instance. This approach is part of the Singleton
 pattern, ensuring that ParkController is only instantiated once throughout
 the application life cycle.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre class="methodSignature">public static&nbsp;<a href="ParkController.html" title="class in clientSide.control">ParkController</a>&nbsp;getInstance()</pre>
</li>
</ul>
<a id="restorePark()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restorePark</h4>
<pre class="methodSignature">public&nbsp;<a href="../../common/entities/Park.html" title="class in common.entities">Park</a>&nbsp;restorePark()</pre>
<div class="block">Restores the previously saved Park object from the controller's state. This
 method is typically used to retrieve the park information that was last set
 or modified within the application session.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The last saved Park object or null if no park has been saved.</dd>
</dl>
</li>
</ul>
<a id="savePark(common.entities.Park)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savePark</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;savePark&#8203;(<a href="../../common/entities/Park.html" title="class in common.entities">Park</a>&nbsp;park)</pre>
<div class="block">Saves a Park object to the controller's state. This method is typically used
 to store the park information that needs to be retained across different
 operations within the application session.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>park</code> - The Park object to save.</dd>
</dl>
</li>
</ul>
<a id="restoreBooking()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreBooking</h4>
<pre class="methodSignature">public&nbsp;<a href="../../common/entities/Booking.html" title="class in common.entities">Booking</a>&nbsp;restoreBooking()</pre>
</li>
</ul>
<a id="saveBooking(common.entities.Booking)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveBooking</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;saveBooking&#8203;(<a href="../../common/entities/Booking.html" title="class in common.entities">Booking</a>&nbsp;booking)</pre>
</li>
</ul>
<a id="setBookingDetails(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBookingDetails</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setBookingDetails&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;bookingDetails)</pre>
</li>
</ul>
<a id="getBookingDetails()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBookingDetails</h4>
<pre class="methodSignature">public&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;getBookingDetails()</pre>
</li>
</ul>
<a id="nameOfTable(common.entities.Park)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nameOfTable</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;nameOfTable&#8203;(<a href="../../common/entities/Park.html" title="class in common.entities">Park</a>&nbsp;park)</pre>
<div class="block">Generates a database-friendly table name from a park name by converting it to
 lower case and replacing spaces with underscores.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>park</code> - The Park object whose name is to be converted into a table name.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A string representing the table name derived from the park name.</dd>
</dl>
</li>
</ul>
<a id="nameOfPark(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nameOfPark</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;nameOfPark&#8203;(java.lang.String&nbsp;park)</pre>
<div class="block">Converts a database table name back to a more readable park name by replacing
 underscores with spaces and capitalizing the first letter of each word.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>park</code> - The string representing the database table name to convert back
             to a park name.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A string representing the more readable park name.</dd>
</dl>
</li>
</ul>
<a id="fetchParks()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchParks</h4>
<pre class="methodSignature">public&nbsp;java.util.ArrayList&lt;<a href="../../common/entities/Park.html" title="class in common.entities">Park</a>&gt;&nbsp;fetchParks()</pre>
<div class="block">Fetches park data from the database, using a communication request - 'SELECT'
 query, retrieves the result, and maps it to Park objects.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An ArrayList of Park objects containing the fetched park data.</dd>
</dl>
</li>
</ul>
<a id="checkIfVisitorExists(java.lang.String,java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkIfVisitorExists</h4>
<pre class="methodSignature">public&nbsp;<a href="../entities/ParkVisitor.html" title="class in clientSide.entities">ParkVisitor</a>&nbsp;checkIfVisitorExists&#8203;(java.lang.String&nbsp;table,
                                        java.lang.String&nbsp;IDfield,
                                        java.lang.String&nbsp;ID)</pre>
<div class="block">A 'SELECT' SQL query is generated to access the relevant table (traveler or
 group_guide) in the database. This indicates if the visitor is already exist.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>table</code> - The table to query.</dd>
<dd><code>IDfield</code> - The column name of the visitor's ID.</dd>
<dd><code>ID</code> - The visitor's ID value.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A ParkVisitor object if the visitor exists, null otherwise. It
         returns a ParkVisitor instance if exists, otherwise return null.</dd>
</dl>
</li>
</ul>
<a id="checkIfBookingExists(java.lang.String,java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkIfBookingExists</h4>
<pre class="methodSignature">public&nbsp;java.util.ArrayList&lt;<a href="../../common/entities/Booking.html" title="class in common.entities">Booking</a>&gt;&nbsp;checkIfBookingExists&#8203;(java.lang.String&nbsp;table,
                                                         java.lang.String&nbsp;field,
                                                         java.lang.String&nbsp;ID)</pre>
<div class="block">A 'SELECT' SQL query is generated to access the relevant table. This
 indicates if there is a corresponding booking in the database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>table</code> - The table to query for a booking.</dd>
<dd><code>ID</code> - The ID of the booker.</dd>
<dd><code>field</code> - The specific id field in table</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>It returns a Booking instance if exists, otherwise return null.</dd>
</dl>
</li>
</ul>
<a id="fetchManagerParksList(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchManagerParksList</h4>
<pre class="methodSignature">public&nbsp;java.util.ArrayList&lt;<a href="../../common/entities/Park.html" title="class in common.entities">Park</a>&gt;&nbsp;fetchManagerParksList&#8203;(java.lang.String&nbsp;field,
                                                       java.lang.String&nbsp;ID)</pre>
<div class="block">A 'SELECT' SQL query is generated to access 'park' table in the database. The
 query retrieves from the DB the list of parks managed by the department
 responsible for them. In case the maneger is Park Manager only one park will
 retrieve from the DB</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>park</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>It returns an array list of parks if exists. otherwise returns null</dd>
</dl>
</li>
</ul>
<a id="checkParkAvailabilityForBooking(common.entities.Booking)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkParkAvailabilityForBooking</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;checkParkAvailabilityForBooking&#8203;(<a href="../../common/entities/Booking.html" title="class in common.entities">Booking</a>&nbsp;booking)</pre>
<div class="block">This method checks the availability for a specific booking, by checking the
 specific park parameters and active bookings ob the same date and time range
 of the checked order</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>booking</code> - the booking that is checked</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if there's enough place for this group, false if not</dd>
</dl>
</li>
</ul>
<a id="updateCurrentCapacity(java.lang.String,int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateCurrentCapacity</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;updateCurrentCapacity&#8203;(java.lang.String&nbsp;parkName,
                                     int&nbsp;amount,
                                     boolean&nbsp;add)</pre>
<div class="block">An 'UPDATE' SQL query is generated to access the 'park' table in the database
 and change the 'currentCapacity' field for the relevant park. In case
 visitors only arrive at the park, the currentCapacity will increase.
 Otherwise, the opposite. This indicates to the managers the capacity of a
 specific park.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>park</code> - </dd>
<dd><code>amount</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>It returns a String describing the capacity</dd>
</dl>
</li>
</ul>
<a id="checkCurrentCapacity(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkCurrentCapacity</h4>
<pre class="methodSignature">public&nbsp;java.lang.String[]&nbsp;checkCurrentCapacity&#8203;(java.lang.String&nbsp;parkName)</pre>
<div class="block">Retrieves current capacity and limits information for a specified park from
 the database. This method executes a 'SELECT' SQL query to obtain details
 such as the maximum visitors capacity, maximum order amount, maximum time
 limit, and the current capacity of the park.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A String array containing four elements: 1. Maximum visitors capacity
         (retValue[0]) 2. Maximum order amount (retValue[1]) 3. Maximum time
         limit for visits (retValue[2]) 4. Current capacity of the park
         (retValue[3]) If no information is found, returns null.</dd>
</dl>
</li>
</ul>
<a id="checkIfBookingIsLock(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkIfBookingIsLock</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;checkIfBookingIsLock&#8203;(java.lang.String&nbsp;ID)</pre>
<div class="block">Checks if a booking is locked for processing by another park employee. This
 method checks the status of a booking lock in the database. A booking lock
 indicates whether the booking is currently being processed by another
 employee.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ID</code> - The ID of the booking to check.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An integer representing the status of the booking lock. 0 - Indicates
         that the employee can work on this booking. 1 - Indicates that no one
         is working on that booking but the process of locking has failed. 2 -
         Indicates that the booking is open in another screen of another park
         employee.</dd>
</dl>
</li>
</ul>
<a id="updateConfirmed(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateConfirmed</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;updateConfirmed&#8203;(java.lang.String&nbsp;table,
                               java.lang.String&nbsp;bookingID)</pre>
<div class="block">An 'UPDATE' SQL query is generated to access the relevant table in the
 database and change the 'confirmed' field to true (represents by '1'). This
 indicating the traveler intends to arrive.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>table</code> - </dd>
<dd><code>bookingID</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>It returns a boolean if the update succeed, otherwise false</dd>
</dl>
</li>
</ul>
<a id="updateTimeInPark(java.lang.String,java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTimeInPark</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;updateTimeInPark&#8203;(java.lang.String&nbsp;park,
                                java.lang.String&nbsp;timeField,
                                java.lang.String&nbsp;ID)</pre>
<div class="block">An 'UPDATE' SQL query is generated to access relevant park_bookings_table in
 the database and update the 'exitParkTime' or 'entryParkTime' field for
 relevant bookingID.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>park</code> - </dd>
<dd><code>ID</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>It returns a boolean value indicating whether the update succeeded
         (true) or not(false).</dd>
</dl>
</li>
</ul>
<a id="payForBooking(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>payForBooking</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;payForBooking&#8203;(java.lang.String&nbsp;parkTable,
                             java.lang.String&nbsp;ID)</pre>
<div class="block">An 'UPDATE' SQL query is generated to access relevant park_bookings_table in
 the database and update the 'paid' field for 1 - paid.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parkTable</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>It returns a boolean value indicating whether the update succeeded
         (true) or not(false).</dd>
</dl>
</li>
</ul>
<a id="revertPaymentForBooking(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>revertPaymentForBooking</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;revertPaymentForBooking&#8203;(java.lang.String&nbsp;parkTable,
                                       java.lang.String&nbsp;ID)</pre>
<div class="block">An 'UPDATE' SQL query is generated to access relevant park_bookings_table in
 the database and update the 'paid' field for 1 - paid.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parkTable</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>It returns a boolean value indicating whether the update succeeded
         (true) or not(false).</dd>
</dl>
</li>
</ul>
<a id="removeBooking(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeBooking</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;removeBooking&#8203;(java.lang.String&nbsp;table,
                             java.lang.String&nbsp;bookingID)</pre>
<div class="block">A 'Delete' SQL query is generated to access relevant park_bookings_table in
 the database and update the 'exitParkTime' field for relevant bookingID.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>park</code> - </dd>
<dd><code>ID</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>It returns a boolean value indicating whether the update succeeded
         (true) or not(false).</dd>
</dl>
</li>
</ul>
<a id="insertBookingToTable(common.entities.Booking,java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertBookingToTable</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;insertBookingToTable&#8203;(<a href="../../common/entities/Booking.html" title="class in common.entities">Booking</a>&nbsp;newBooking,
                                    java.lang.String&nbsp;table,
                                    java.lang.String&nbsp;type)</pre>
<div class="block">Inserts a new booking record into a specified table within the database,
 based on the type of the booking. This method supports inserting bookings
 into tables designated for active bookings, completed bookings, or cancelled
 bookings. The table into which the booking is inserted is determined by the
 combination of the park's name and the specified booking type (active, done,
 or canceled). Depending on the booking type, different sets of booking
 details are included in the insert query.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newBooking</code> - The new Booking object containing the details of the
                      booking to be inserted.</dd>
<dd><code>relevantTable</code> - A suffix indicating the specific table to insert the
                      booking into (e.g., "_park_active_booking").</dd>
<dd><code>type</code> - The type of the booking, determining which table the
                      booking is inserted into ("active", "done", "canceled").</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the insert operation is successful and the booking is
         correctly added to the database; false otherwise.</dd>
</dl>
</li>
</ul>
<a id="sendNotification(common.entities.Booking,boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>sendNotification</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;sendNotification&#8203;(<a href="../../common/entities/Booking.html" title="class in common.entities">Booking</a>&nbsp;notify,
                             boolean&nbsp;isCancel)</pre>
<div class="block">This method is called in order to send a confirmation or cancellation to the
 booker</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>notify</code> - the booking to notify its holder</dd>
<dd><code>isCancel</code> - true if a cancellation notification is needed to be sent,
                 false if confirmation notification is needed to be sent</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ParkController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
